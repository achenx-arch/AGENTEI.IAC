<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <title>Agente IA - Oracle HR</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>ü§ñ Agente IA ACHX13 | HR</h1>

    <div id="conn-section">
      <h3>Conexi√≥n a Base de Datos</h3>
      <form id="connect-form">
        <label>
          Motor
          <select id="db-client">
            <option value="oracledb">Oracle</option>
            <option value="sqlite3">SQLite</option>
          </select>
        </label>
        <div id="oracle-fields">
          <input id="db-user" placeholder="Usuario (ej: HR)" />
          <input id="db-pass" placeholder="Password" type="password" />
          <input id="db-host" placeholder="Host" value="localhost" />
          <input id="db-port" placeholder="Puerto" value="1521" />
          <input id="db-service" placeholder="Service" value="XE" />
        </div>
        <div id="sqlite-fields" style="display:none;">
          <input id="db-filename" placeholder="Ruta SQLite (./backend/database.sqlite)" value="./backend/database.sqlite" />
        </div>
        <button type="submit" id="connect-btn">Conectar</button>
        <button type="button" id="disconnect-btn" disabled>Desconectar</button>
        <span id="conn-status"></span>
      </form>
    </div>

    <form id="query-form">
      <input id="question-input" placeholder="Ej: Mu√©strame nombres y salary de empleados con salary > 5000" disabled />
      <button type="submit" disabled>Ejecutar</button>
    </form>

    <h3>Consulta generada:</h3>
    <pre id="sql-query" class="code-block"></pre>

    <div id="results-table-container"></div>

    <div id="teach-section" style="margin-top:24px;">
      <h3>Ense√±ar al agente</h3>
      <form id="learn-form">
        <input id="learn-question" placeholder="Pregunta (c√≥mo lo dir√≠as t√∫)" />
        <textarea id="learn-sql" placeholder="SQL correcto para esa pregunta" rows="4"></textarea>
        <div>
          <button type="submit" id="learn-btn">Guardar Aprendizaje</button>
          <span id="learn-status"></span>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal de confirmaci√≥n -->
  <div id="confirm-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>‚ö†Ô∏è Confirmar Operaci√≥n de Modificaci√≥n</h2>
      <p id="modal-message">¬øEst√°s seguro de que deseas ejecutar esta operaci√≥n?</p>
      <div class="modal-sql">
        <strong>SQL a ejecutar:</strong>
        <pre id="modal-sql-text"></pre>
      </div>
      <div class="modal-buttons">
        <button id="confirm-yes" class="btn-confirm">S√≠, Ejecutar</button>
        <button id="confirm-cancel" class="btn-cancel">Cancelar</button>
      </div>
    </div>
  </div>

  <!-- Modal de resultado -->
  <div id="result-modal" class="modal" style="display: none;">
    <div class="modal-content">
      <h2>‚úÖ Operaci√≥n Completada</h2>
      <p id="result-message"></p>
      <div class="modal-buttons">
        <button id="result-ok" class="btn-confirm">Aceptar</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
